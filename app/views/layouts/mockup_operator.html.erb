<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "PhysioTraq" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    
    <%# DM Sans font from Google Fonts %>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">

    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <style>
      :root {
        --pt-red-orange: #D93611;
        --pt-orange-dark: #D95F18;
        --pt-orange: #F2811D;
        --pt-turquoise: #32D9D9;
        --pt-turquoise-light: #7EEAEA;
        --pt-teal: #008B8B;
        --pt-alert-warning: #F59E0B;
        --pt-alert-danger: #EF4444;
        --pt-alert-success: #10B981;
      }
      
      * {
        font-family: 'DM Sans', sans-serif;
      }
      
      .gradient-orange {
        background: linear-gradient(135deg, var(--pt-red-orange) 0%, var(--pt-orange-dark) 50%, var(--pt-orange) 100%);
      }
      
      .btn-primary {
        background: linear-gradient(135deg, var(--pt-red-orange) 0%, var(--pt-orange) 100%);
      }
      
      .btn-primary:hover {
        box-shadow: 0 4px 12px rgba(217, 54, 17, 0.4);
      }
      
      .btn-secondary {
        background: var(--pt-turquoise);
      }
      
      .btn-secondary:hover {
        background: var(--pt-teal);
      }
      
      .temperature-display {
        font-size: 8rem;
        font-weight: 700;
        line-height: 1;
        color: var(--pt-turquoise);
      }
      
      .temperature-display.warning {
        color: var(--pt-alert-warning);
      }
      
      .temperature-display.danger {
        color: var(--pt-alert-danger);
        animation: pulse 1s infinite;
      }
      
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
      }
    </style>
  </head>

  <body class="min-h-screen bg-gray-50">
    <div class="flex">
      <!-- Sidebar -->
      <aside class="w-64 min-h-screen bg-white border-r border-gray-200 fixed">
        <div class="p-6">
          <div class="flex items-center gap-3 mb-8">
            <%= image_tag "logo_physiotraq_color.png", alt: "PhysioTraq", class: "h-10" %>
            <span class="font-semibold text-gray-900">physiotraq</span>
          </div>
          
          <nav class="space-y-1">
            <%= link_to mockups_operator_dashboard_path, class: "flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-[#E8F5F5] hover:text-[#008B8B] transition-colors #{action_name == 'operator_dashboard' ? 'bg-[#E8F5F5] text-[#008B8B]' : ''}" do %>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"/>
              </svg>
              Dashboard
            <% end %>
            
            <%= link_to mockups_operator_new_treatment_path, class: "flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-[#E8F5F5] hover:text-[#008B8B] transition-colors #{action_name == 'operator_new_treatment' ? 'bg-[#E8F5F5] text-[#008B8B]' : ''}" do %>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
              </svg>
              New Treatment
            <% end %>
            
            <%= link_to mockups_operator_monitor_path, class: "flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-[#E8F5F5] hover:text-[#008B8B] transition-colors #{action_name == 'operator_monitor' ? 'bg-[#E8F5F5] text-[#008B8B]' : ''}" do %>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
              </svg>
              Live Monitor
            <% end %>
            
            <%= link_to mockups_operator_treatments_path, class: "flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-[#E8F5F5] hover:text-[#008B8B] transition-colors #{action_name.include?('treatment') && action_name != 'operator_new_treatment' ? 'bg-[#E8F5F5] text-[#008B8B]' : ''}" do %>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/>
              </svg>
              My Treatments
            <% end %>
          </nav>
        </div>
        
        <div class="absolute bottom-0 left-0 right-0 p-6 border-t border-gray-200">
          <%= link_to mockups_root_path, class: "flex items-center gap-2 text-sm text-gray-500 hover:text-[#D93611]" do %>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
            Back to Mockups Index
          <% end %>
        </div>
      </aside>
      
      <!-- Main content -->
      <main class="flex-1 ml-64">
        <!-- Top bar -->
        <header class="bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between">
          <h1 class="text-xl font-semibold text-gray-900">
            <%= content_for(:page_title) || "Operator" %>
          </h1>
          <div class="flex items-center gap-4">
            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-[#D93611] to-[#F2811D] text-white">
              Operator
            </span>
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 rounded-full bg-[#32D9D9] flex items-center justify-center text-white text-sm font-medium">
                DR
              </div>
            </div>
          </div>
        </header>
        
        <!-- Page content -->
        <div class="p-8">
          <%= yield %>
        </div>
      </main>
    </div>
  </body>
</html>
